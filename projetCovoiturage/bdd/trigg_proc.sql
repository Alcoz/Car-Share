DELIMITER |

CREATE PROCEDURES moyenne(IN id_util INTEGER)
BEGIN
  SELECT AVG(NOTES)
  FROM AVIS, UTILISATEUR
  WHERE ID_CONDUCTEUR = ID_UTILISATEUR;
END|

CREATE TRIGGER before_insert_prix BEFORE INSERT
ON TRAJET FOR EACH ROW
BEGIN
  IF(NEW.PRIX > (NEW.DISTANCE*0.1))
    THEN
      NEW.PRIX = NEW.DISTANCE*0.1
  END IF;
END |
